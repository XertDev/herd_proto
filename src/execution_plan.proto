syntax = "proto3";

package herd.proto;

option cc_enable_arenas = true;

import "common.proto";


message InputStage
{
  string data_frame_uuid = 2;
}

message MappingStage
{
}

message ExecutionStage
{
  repeated uint32 parent_stages = 1;
  SchemaType schema_type = 2;

  oneof stage
  {
    InputStage input = 3;
    MappingStage mapping = 4;
  }
}

message ExecutionPlan
{
  repeated ExecutionStage stages = 1;
}